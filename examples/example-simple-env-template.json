{
	"$schema": "./fabr.config.schema.json",
	"name": "Express API with Environment Variables",
	"description": "Simple Express.js API with database and environment setup",
	"version": "1.0.0",
	"type": "commands",
	"placeholders": [
		{
			"key": "PROJECT_NAME",
			"prompt": "What is your project name?",
			"required": true,
			"validate": {
				"pattern": "^[a-z][a-z0-9-]*$",
				"minLength": 3
			}
		}
	],
	"environmentVariables": [
		{
			"key": "PORT",
			"prompt": "Enter server port",
			"default": "3000",
			"validate": {
				"pattern": "^[0-9]+$"
			}
		},
		{
			"key": "DATABASE_URL",
			"prompt": "Enter database connection URL",
			"required": true,
			"validate": {
				"pattern": "^(mongodb|postgresql)://.+",
				"minLength": 10
			}
		},
		{
			"key": "JWT_SECRET",
			"prompt": "Enter JWT secret key",
			"local": true,
			"required": true,
			"validate": {
				"minLength": 32
			}
		},
		{
			"key": "NODE_ENV",
			"prompt": "Enter environment",
			"default": "development"
		},
		{
			"key": "API_KEY",
			"prompt": "Enter external API key (optional)",
			"description": "Third-party service API key",
			"local": true,
			"required": false
		}
	],
	"commands": [
		{
			"command": "npm init -y",
			"description": "Initialize package.json"
		},
		{
			"command": "npm pkg set name={{PROJECT_NAME}}",
			"description": "Set project name"
		},
		{
			"command": "npm pkg set description='{{PROJECT_NAME}} - Express API server'",
			"description": "Set project description"
		},
		{
			"command": "npm install express cors helmet morgan dotenv",
			"description": "Install core dependencies"
		},
		{
			"command": "npm install -D nodemon @types/node @types/express typescript",
			"description": "Install development dependencies"
		},
		{
			"command": "mkdir -p src routes middleware",
			"description": "Create project structure"
		},
		{
			"command": "echo 'console.log(\"Environment files created! Start developing with: npm run dev\")' > setup-complete.js && node setup-complete.js && rm setup-complete.js",
			"description": "Setup completion message"
		}
	]
}
